# TP 4 : Gymnase2000 - Complexe et performant

## Description

Ce dernier TP vous fait travailler sur la base **`Gymnase2000`**, une base complètement différente de Comptoir2000. Elle gère un complexe sportif avec :

- **Sportifs** : Les adhérents du gymnase
- **Sports** : Types d'activités proposées
- **Gymnases** : Différents lieux du complexe
- **Seances** : Séances d'entraînement programmées
- **Jouer** : Association entre sportifs et sports
- **Arbitrer** : Arbitres et sports qu'ils arbitrent
- **Entrainer** : Entraîneurs et sports qu'ils enseignent

Progression pédagogique :
- **Partie I** : Requêtes de base et jointures simples (15 questions)
- **Partie II** : Requêtes intermédiaires avec agrégats et conditions (8 questions)
- **Partie III** : Requêtes avancées et sous-requêtes complexes (14 questions)

## Schéma de la base de données

La base `Gymnase2000` contient :

### Tables principales

- **Sportif** : NumLicence, NomSportif, PrenomSportif, Adresse, Tel, DateNaissance, Genre, NumGroupe
- **Sport** : NumSport, NomSport, Description
- **Gymnase** : NumGymnase, NomGymnase, Adresse, NumTel
- **Seance** : NumSeance, NumSport, NumGymnase, Horaire, Moniteur, MaxSportifs
- **Jouer** : NumLicence, NumSport, Niveau, DateDebut
- **Arbitrer** : NumLicence, NumSport, Niveau
- **Entrainer** : NumLicence, NumSport, Niveau

### Clés de liaison

- Jouer.NumLicence → Sportif.NumLicence
- Jouer.NumSport → Sport.NumSport
- Arbitrer.NumLicence → Sportif.NumLicence
- Arbitrer.NumSport → Sport.NumSport
- Entrainer.NumLicence → Sportif.NumLicence
- Entrainer.NumSport → Sport.NumSport
- Seance.NumSport → Sport.NumSport
- Seance.NumGymnase → Gymnase.NumGymnase

## Conseils pour bien démarrer

- **Changement de contexte** : Gymnase2000 est très différente de Comptoir2000. Les noms de tables et de colonnes sont nouveaux
- **Vérifiez les clés** : Avant chaque jointure, vérifiez que vous avez la bonne clé étrangère
- **Pensez au métier** : Un sportif peut jouer plusieurs sports, un entraîneur peut entraîner plusieurs sports
- **Niveaux** : Les colonnes "Niveau" représentent les compétences (débutant, confirmé, expert, etc.)
- **Séances** : Les séances sont des sessions programmées, différentes d'une relation directe
- Les indices vous aident à comprendre le concept, pas à copier la réponse

3. **Ajouter un client avec tous ses attributs**

```sql
INSERT INTO Clients (NomSociete, ContactNom, ContactPrenom, Adresse, Ville, CodePostal, Pays, Email)
VALUES ('Acme Corporation', 'Dupont', 'Jean', '123 Rue de Paris', 'Paris', '75001', 'France', 'contact@acme.fr');
```

4. **Ajouter une commande avec date du jour**

```sql
INSERT INTO Commandes (IdClient, DateCommande, IdEmploye)
VALUES (1, DATE('now'), 1);
```

5. **Ajouter plusieurs produits en une seule commande**

```sql
INSERT INTO Details (IdCommande, IdProduit, Quantite, PrixUnitaire)
VALUES 
  (1, 1, 2, 19.99),
  (1, 3, 1, 49.99),
  (1, 5, 3, 9.99);
```

## Points à retenir

- La syntaxe INSERT INTO ... VALUES
- L'ordre des colonnes et des valeurs
- Les valeurs NULL et par défaut
- Les insertions multiples en une requête
